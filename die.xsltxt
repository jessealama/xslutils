stylesheet "1.0";
include "trace.xsl";

tpl [*] (#message) mode="die" {
  apply [.] mode="trace";
  if [@*] {
    msg "Attributes:";
    for-each [*@] {
      $n = `name (.)`;
      $v = `*[1]`;
      msg `concat ($n, " = ", $v)`;
    }
  } else {
    msg terminate="yes" `concat ($message, "\n", "(This element has no attributes.)")`;
  }
}
